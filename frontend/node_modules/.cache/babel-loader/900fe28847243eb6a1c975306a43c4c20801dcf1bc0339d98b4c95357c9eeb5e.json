{"ast":null,"code":"import API, { LOGIN_USER_KEY } from '../../API';\nimport { signInAction, signInError, signUpAction, signUpError, signUserStoreAction } from './actions';\nconst api = new API();\nexport const fetchUserFromLocalStorage = () => {\n  return dispatch => {\n    const userJSON = localStorage.getItem(LOGIN_USER_KEY);\n    if (userJSON && userJSON.token !== \"\") {\n      dispatch(signUserStoreAction(JSON.parse(userJSON)));\n    }\n  };\n};\nexport const signUp = (data = {}, onSuccess = null) => {\n  return async dispatch => {\n    return api.signUp(data).then(response => {\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n      dispatch(signUpAction(response));\n      onSuccess();\n    }).catch(error => {\n      dispatch(signUpError(error.response.data));\n    });\n  };\n};\nexport const signIn = (data = {}, onSuccess = null) => {\n  return async dispatch => {\n    return api.signIn(data).then(response => {\n      localStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\n      dispatch(signInAction(response));\n      onSuccess();\n    }).catch(error => {\n      dispatch(signInError(error.response.data));\n    });\n  };\n};","map":{"version":3,"names":["API","LOGIN_USER_KEY","signInAction","signInError","signUpAction","signUpError","signUserStoreAction","api","fetchUserFromLocalStorage","dispatch","userJSON","localStorage","getItem","token","JSON","parse","signUp","data","onSuccess","then","response","setItem","stringify","catch","error","signIn"],"sources":["D:/hivetechwear/frontend/src/reducks/users/operations.js"],"sourcesContent":["import API, { LOGIN_USER_KEY } from '../../API';\r\nimport { signInAction, signInError, signUpAction, signUpError, signUserStoreAction } from './actions';\r\n\r\nconst api = new API();\r\n\r\n\r\nexport const fetchUserFromLocalStorage = () => {\r\n    return (dispatch) =>{\r\n        const userJSON = localStorage.getItem(LOGIN_USER_KEY);\r\n\r\n        if (userJSON && userJSON.token !== \"\")\r\n        {\r\n            dispatch(signUserStoreAction(JSON.parse(userJSON)));\r\n        }\r\n    };\r\n};\r\n\r\nexport const signUp = (data = {}, onSuccess = null) => {\r\n\treturn async (dispatch) => {\r\n\t\treturn api\r\n\t\t\t.signUp(data)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tlocalStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\r\n\t\t\t\tdispatch(signUpAction(response));\r\n\t\t\t\tonSuccess();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tdispatch(signUpError(error.response.data));\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const signIn = (data = {}, onSuccess = null) => {\r\n\treturn async (dispatch) => {\r\n\t\treturn api\r\n\t\t\t.signIn(data)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tlocalStorage.setItem(LOGIN_USER_KEY, JSON.stringify(response));\r\n\t\t\t\tdispatch(signInAction(response));\r\n\t\t\t\tonSuccess();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tdispatch(signInError(error.response.data));\r\n\t\t\t});\r\n\t};\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,IAAIC,cAAc,QAAQ,WAAW;AAC/C,SAASC,YAAY,EAAEC,WAAW,EAAEC,YAAY,EAAEC,WAAW,EAAEC,mBAAmB,QAAQ,WAAW;AAErG,MAAMC,GAAG,GAAG,IAAIP,GAAG,CAAC,CAAC;AAGrB,OAAO,MAAMQ,yBAAyB,GAAGA,CAAA,KAAM;EAC3C,OAAQC,QAAQ,IAAI;IAChB,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAACX,cAAc,CAAC;IAErD,IAAIS,QAAQ,IAAIA,QAAQ,CAACG,KAAK,KAAK,EAAE,EACrC;MACIJ,QAAQ,CAACH,mBAAmB,CAACQ,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC,CAAC,CAAC;IACvD;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMM,MAAM,GAAGA,CAACC,IAAI,GAAG,CAAC,CAAC,EAAEC,SAAS,GAAG,IAAI,KAAK;EACtD,OAAO,MAAOT,QAAQ,IAAK;IAC1B,OAAOF,GAAG,CACRS,MAAM,CAACC,IAAI,CAAC,CACZE,IAAI,CAAEC,QAAQ,IAAK;MACnBT,YAAY,CAACU,OAAO,CAACpB,cAAc,EAAEa,IAAI,CAACQ,SAAS,CAACF,QAAQ,CAAC,CAAC;MAC9DX,QAAQ,CAACL,YAAY,CAACgB,QAAQ,CAAC,CAAC;MAChCF,SAAS,CAAC,CAAC;IACZ,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAK;MACjBf,QAAQ,CAACJ,WAAW,CAACmB,KAAK,CAACJ,QAAQ,CAACH,IAAI,CAAC,CAAC;IAC3C,CAAC,CAAC;EACJ,CAAC;AACF,CAAC;AAED,OAAO,MAAMQ,MAAM,GAAGA,CAACR,IAAI,GAAG,CAAC,CAAC,EAAEC,SAAS,GAAG,IAAI,KAAK;EACtD,OAAO,MAAOT,QAAQ,IAAK;IAC1B,OAAOF,GAAG,CACRkB,MAAM,CAACR,IAAI,CAAC,CACZE,IAAI,CAAEC,QAAQ,IAAK;MACnBT,YAAY,CAACU,OAAO,CAACpB,cAAc,EAAEa,IAAI,CAACQ,SAAS,CAACF,QAAQ,CAAC,CAAC;MAC9DX,QAAQ,CAACP,YAAY,CAACkB,QAAQ,CAAC,CAAC;MAChCF,SAAS,CAAC,CAAC;IACZ,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAK;MACjBf,QAAQ,CAACN,WAAW,CAACqB,KAAK,CAACJ,QAAQ,CAACH,IAAI,CAAC,CAAC;IAC3C,CAAC,CAAC;EACJ,CAAC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}